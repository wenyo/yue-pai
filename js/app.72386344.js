(function(e){function t(t){for(var a,o,i=t[0],u=t[1],s=t[2],l=0,b=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);d&&d(t);while(b.length)b.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==c[u]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},c={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/yue-pai/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01f1":function(e,t,n){"use strict";n("e584")},"05f2":function(e,t,n){e.exports=n.p+"img/rabbit.e96ae2d2.png"},"08dc":function(e,t,n){},"0ed0":function(e,t,n){"use strict";n("2b3b")},"130a":function(e,t,n){},1370:function(e,t,n){},"175e":function(e,t,n){},2248:function(e,t,n){"use strict";n("6477")},"28bd":function(e,t,n){},"2b3b":function(e,t,n){},3760:function(e,t,n){"use strict";n("7c8f")},4142:function(e,t,n){},"42ea":function(e,t,n){"use strict";n("7970")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");n("78a7"),n("4142"),n("7d05");function c(e,t,n,c,r,o){var i=Object(a["B"])("router-view");Object(a["B"])("Alert");return Object(a["t"])(),Object(a["f"])("div",null,[(Object(a["t"])(),Object(a["d"])(i,{key:0,"alert-open":o.alertOpen},null,8,["alert-open"])),Object(a["e"])("",!0)])}var r=function(e){return Object(a["w"])("data-v-7651ebf6"),e=e(),Object(a["u"])(),e},o={id:"alert-other",class:"alert"},i=r((function(){return Object(a["g"])("i",{class:"icon icon-xmark-solid"},null,-1)}));function u(e,t,n,c,r,u){return Object(a["t"])(),Object(a["f"])("div",o,[i,Object(a["g"])("p",null,Object(a["D"])(n.alert.msg),1)])}var s={props:{alertClose:Function,alert:Object,autoClose:{type:Boolean,default:!0}},mounted:function(){this.autoClose&&window.setTimeout(this.alertClose,3e3)}},d=(n("42ea"),n("6b0d")),l=n.n(d);const b=l()(s,[["render",u],["__scopeId","data-v-7651ebf6"]]);var O=b,g={data:function(){return{allowUse:!0,alertShow:!1,autoClose:!0,alert:{msg:""}}},mounted:function(){this.checkTime()},components:{Alert:O},methods:{alertCall:function(e){var t=e.msg,n=e.show;this.alertShow=n,this.alert.msg=t},alertOpen:function(e){var t=e.msg;this.alertCall({msg:t,show:!0})},alertClose:function(){this.alertCall({msg:"",show:!1})},checkTime:function(){}}};const f=l()(g,[["render",c]]);var p=f,j=n("6c02"),m=n("05f2"),h=n.n(m),y=n("f40b"),_=n.n(y),I=n("d82e"),v=n.n(I),x=n("fafd"),T=n.n(x),C=n("5fb2"),E=n.n(C),N=function(e){return Object(a["w"])("data-v-3ae93361"),e=e(),Object(a["u"])(),e},k={class:"home wrap"},S=N((function(){return Object(a["g"])("img",{class:"rabbit",src:h.a,alt:"rabbit background"},null,-1)})),P=N((function(){return Object(a["g"])("img",{class:"exclamation",src:_.a,alt:"exclamation mark"},null,-1)})),w={class:"home-contain"},L=N((function(){return Object(a["g"])("div",{class:"logo"},[Object(a["g"])("img",{src:v.a,alt:""}),Object(a["g"])("img",{src:T.a,alt:""})],-1)})),B={class:"btn-area"},R=Object(a["h"])("開新賽程"),D=N((function(){return Object(a["g"])("footer",null,[Object(a["g"])("img",{src:E.a,alt:""})],-1)}));function Y(e,t,n,c,r,o){var i=Object(a["B"])("ReadFile"),u=Object(a["B"])("Button"),s=Object(a["B"])("router-link");return Object(a["t"])(),Object(a["f"])("div",k,[S,P,Object(a["g"])("div",w,[L,Object(a["g"])("ul",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(r.CONTEST_TYPE,(function(e,t){return Object(a["t"])(),Object(a["f"])("li",{key:t},Object(a["D"])(e.ch),1)})),128))]),Object(a["g"])("div",B,[Object(a["i"])(i),Object(a["i"])(s,{to:"/step_one",custom:""},{default:Object(a["I"])((function(e){var t=e.navigate;return[Object(a["i"])(u,{type:r.BUTTON_TYPE.SECOND,click_fun:t},{default:Object(a["I"])((function(){return[R]})),_:2},1032,["type","click_fun"])]})),_:1})])]),D])}n("d81d"),n("b64b");var A={SINGLE:{eng:"Single elimination",ch:"單淘汰賽",id:"SINGLE"},DOUBLE:{eng:"Double elimination",ch:"雙淘汰賽",id:"DOUBLE"},ROUND:{eng:"Round robin",ch:"循環賽",id:"ROUND"}},W=Object.keys(A).map((function(e){return A[e].id})),U={NONE:"NONE",WIN:"WIN",LOSE:"LOSE"},G=6,F=-1,z=-1,M="none",K=1,V={ONE:1},H={ONE:0,TWO:1},J={WIN:[],LOSE:[],ROUND:[]},X={PLAYER1:"player1",PLAYER2:"player2"},$={id:"",name:"",is_seed:!1},q={player1:{score:F,id:z,game_type:U.NONE,sort:{roundIdx:-1,game_idx:-1},winner_chose:!0},player2:{score:F,id:z,game_type:U.NONE,sort:{roundIdx:-1,game_idx:-1},winner_chose:!0},place:"",date:"",time:"",bye:!1,bye_player:[],show:!0,championship:!1,third_place:!1},Q={MASTER:"master",SECOND:"second",THIRD:"third",FORTH:"forth",FIVE:"five"},Z={ONE:1,TWO:2,THREE:3};n("99af"),n("b0c0");function ee(e,t,n,c,r,o){return Object(a["t"])(),Object(a["f"])("button",{class:Object(a["o"])("".concat(n.type," ").concat(n.name)),onClick:t[0]||(t[0]=function(){return n.click_fun&&n.click_fun.apply(n,arguments)})},[Object(a["A"])(e.$slots,"default",{},void 0,!0)],2)}n("caad"),n("2532"),n("07ac");var te={props:{name:{type:String,default:""},type:{type:String,default:Q.MASTER,validator:function(e){return Object.values(Q).includes(e)}},click_fun:{type:Function}},data:function(){return{BUTTON_TYPE:Q}}};n("3760");const ne=l()(te,[["render",ee],["__scopeId","data-v-c025786e"]]);var ae=ne,ce=Object(a["h"])("讀取舊檔");function re(e,t,n,c,r,o){var i=Object(a["B"])("Button");return Object(a["t"])(),Object(a["f"])("span",null,[Object(a["i"])(i,{type:r.BUTTON_TYPE.FIVE,click_fun:c.triggerUpload},{default:Object(a["I"])((function(){return[ce]})),_:1},8,["type","click_fun"]),Object(a["J"])(Object(a["g"])("input",{type:"file",ref:"readFile",onChange:t[0]||(t[0]=function(){return o.fileChoose&&o.fileChoose.apply(o,arguments)})},null,544),[[a["G"],!1]])])}var oe=n("1da1"),ie=n("5530"),ue=(n("96cf"),n("5502")),se={props:["ref_value"],components:{Button:ae},setup:function(){var e=Object(a["y"])(),t=function(){e.value.click()};return{readFile:e,triggerUpload:t}},data:function(){return{BUTTON_TYPE:Q}},methods:Object(ie["a"])(Object(ie["a"])({},Object(ue["c"])(["filesContentGet","contestReset"])),{},{fileChoose:function(e){var t=this,n=e.target.files[0],a=new Blob([n],{type:"application/json"}),c=new FileReader;c.addEventListener("load",Object(oe["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(c.result),e.next=3,t.contestReset({is_contest_reset:!1});case 3:return e.next=5,t.filesContentGet(n);case 5:return e.next=7,sc.push({name:"StepThree"});case 7:case"end":return e.stop()}}),e)})))),c.readAsText(a)}})};const de=l()(se,[["render",re]]);var le=de,be={name:"Home",data:function(){return{CONTEST_TYPE:A,BUTTON_TYPE:Q}},components:{Button:ae,ReadFile:le}};n("789d");const Oe=l()(be,[["render",Y],["__scopeId","data-v-3ae93361"]]);var ge=Oe,fe=function(e){return Object(a["w"])("data-v-696769fc"),e=e(),Object(a["u"])(),e},pe={class:"wrap"},je={class:"outer"},me={class:"contain-box"},he={class:"contain"},ye=fe((function(){return Object(a["g"])("h3",{class:"step-title"},"1.1/選擇賽制與隊伍數",-1)})),_e={class:"article"},Ie={class:"setting-item"},ve=fe((function(){return Object(a["g"])("label",{for:"contest"},"選擇賽制",-1)})),xe=["value"],Te=fe((function(){return Object(a["g"])("option",{value:""},"請選擇",-1)})),Ce=["value"],Ee={class:"setting-item"},Ne=fe((function(){return Object(a["g"])("label",{for:"team-count"},"輸入隊伍數",-1)})),ke=["disabled"],Se={key:0,class:"setting-item"},Pe=fe((function(){return Object(a["g"])("label",{for:"group-count"},"輸入組數",-1)})),we=["min","defaultValue","disabled"],Le=fe((function(){return Object(a["g"])("h3",{class:"step-title"},"1.2/上傳圖片(非必填，圖片長寬比建議為1:1~1:2)",-1)})),Be={class:"article"},Re=Object(a["h"])("選擇圖片"),De=Object(a["h"])("清除圖片"),Ye=["src"],Ae={class:"step"},We=Object(a["h"])("上一步"),Ue=Object(a["h"])("下一步");function Ge(e,t,n,c,r,o){var i=Object(a["B"])("Header"),u=Object(a["B"])("StepLine"),s=Object(a["B"])("Button"),d=Object(a["B"])("router-link"),l=Object(a["B"])("Footer");return Object(a["t"])(),Object(a["f"])("div",pe,[Object(a["i"])(i),Object(a["g"])("div",je,[Object(a["i"])(u,{"now-step":1}),Object(a["g"])("div",me,[Object(a["g"])("div",he,[ye,Object(a["g"])("div",_e,[Object(a["g"])("div",Ie,[ve,Object(a["g"])("select",{id:"contest",value:e.type,onChange:t[0]||(t[0]=function(){return o.typeChangeByInput&&o.typeChangeByInput.apply(o,arguments)})},[Te,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(r.CONTEST_TYPE,(function(e,t){return Object(a["t"])(),Object(a["f"])("option",{key:t,value:e.id},Object(a["D"])(e.ch),9,Ce)})),128))],40,xe)]),Object(a["g"])("div",Ee,[Ne,Object(a["J"])(Object(a["g"])("input",{class:"size-l primary",type:"number",id:"team-count",min:"0","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.teamCountNum=e}),onChange:t[2]||(t[2]=function(){return e.roundScoreDefault&&e.roundScoreDefault.apply(e,arguments)}),disabled:""===e.type},null,40,ke),[[a["F"],o.teamCountNum]])]),e.type===r.CONTEST_TYPE.ROUND.id?(Object(a["t"])(),Object(a["f"])("div",Se,[Pe,Object(a["J"])(Object(a["g"])("input",{class:"size-l primary",type:"number",id:"group-count",min:r.GROUP_DEFAULT,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.roundGroupCountNum=e}),onChange:t[4]||(t[4]=function(){return e.roundScoreDefault&&e.roundScoreDefault.apply(e,arguments)}),defaultValue:r.GROUP_DEFAULT,disabled:""===e.type},null,40,we),[[a["F"],o.roundGroupCountNum]]),Object(a["g"])("p",null,Object(a["D"])(o.teamNumInGroup)+"人/組",1)])):Object(a["e"])("",!0)]),Le,Object(a["g"])("div",Be,[Object(a["i"])(s,{class:"file-input",type:r.BUTTON_TYPE.FORTH,click_fun:function(){return c.uploadImage.click()}},{default:Object(a["I"])((function(){return[Re]})),_:1},8,["type","click_fun"]),Object(a["g"])("input",{ref:"uploadImage",type:"file",accept:"image/*",onChange:t[5]||(t[5]=function(){return o.imgChange&&o.imgChange.apply(o,arguments)})},null,544),Object(a["i"])(s,{type:r.BUTTON_TYPE.FIVE,click_fun:o.resetImg,disabled:!e.imgBase64},{default:Object(a["I"])((function(){return[De]})),_:1},8,["type","click_fun","disabled"]),e.imgBase64?(Object(a["t"])(),Object(a["f"])("img",{key:0,class:"preview-img",src:e.imgBase64},null,8,Ye)):Object(a["e"])("",!0)])])]),Object(a["g"])("div",Ae,[Object(a["i"])(d,{to:"/",custom:""},{default:Object(a["I"])((function(e){var t=e.navigate;return[Object(a["i"])(s,{type:r.BUTTON_TYPE.FIVE,click_fun:t},{default:Object(a["I"])((function(){return[We]})),_:2},1032,["type","click_fun"])]})),_:1}),Object(a["i"])(d,{to:"/step_two",custom:""},{default:Object(a["I"])((function(t){var n=t.navigate;return[Object(a["i"])(s,{type:r.BUTTON_TYPE.SECOND,click_fun:n,disabled:""===e.type||isNaN(e.teamCount)||e.teamCount<=0||o.teamNumInGroup%1>0},{default:Object(a["I"])((function(){return[Ue]})),_:2},1032,["type","click_fun","disabled"])]})),_:1})])]),Object(a["i"])(l)])}n("b680");var Fe=function(e){return Object(a["w"])("data-v-5db5a982"),e=e(),Object(a["u"])(),e},ze=Fe((function(){return Object(a["g"])("div",{class:"logo"},[Object(a["g"])("img",{src:T.a,alt:"logo"})],-1)})),Me={class:"title"};function Ke(e,t,n,c,r,o){var i=Object(a["B"])("ReadFile");return Object(a["t"])(),Object(a["f"])("header",null,[ze,Object(a["g"])("div",Me,[Object(a["J"])(Object(a["g"])("input",{type:"text",name:"",id:"","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.contestNameShow=e}),placeholder:"請填入賽事名稱"},null,512),[[a["F"],o.contestNameShow]])]),Object(a["i"])(i,{className:"read-file"})])}var Ve={components:{ReadFile:le},computed:Object(ie["a"])(Object(ie["a"])({},Object(ue["d"])(["contestName"])),{},{contestNameShow:{get:function(){return this.contestName},set:function(e){this.contestNameChange(e)}}}),methods:Object(ie["a"])({},Object(ue["c"])(["contestNameChange"]))};n("d712");const He=l()(Ve,[["render",Ke],["__scopeId","data-v-5db5a982"]]);var Je=He,Xe={key:0,class:"now-step"};function $e(e,t,n,c,r,o){return Object(a["t"])(),Object(a["f"])("ul",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(Object.values(r.STEP_IDX),(function(e){return Object(a["t"])(),Object(a["f"])(a["a"],{key:e},[n.nowStep===e?(Object(a["t"])(),Object(a["f"])("li",Xe)):(Object(a["t"])(),Object(a["f"])("li",{key:1,class:Object(a["o"])({"prev-step":n.nowStep>e})},Object(a["D"])(e),3))],64)})),128))])}var qe={props:["nowStep"],data:function(){return{STEP_IDX:Z}}};n("cec4");const Qe=l()(qe,[["render",$e],["__scopeId","data-v-4e273c26"]]);var Ze=Qe,et=function(e){return Object(a["w"])("data-v-0b83938f"),e=e(),Object(a["u"])(),e},tt=et((function(){return Object(a["g"])("img",{src:E.a,alt:""},null,-1)})),nt=[tt];function at(e,t){return Object(a["t"])(),Object(a["f"])("footer",null,nt)}n("9534");const ct={},rt=l()(ct,[["render",at],["__scopeId","data-v-0b83938f"]]);var ot=rt,it={props:["alertOpen"],data:function(){return{CONTEST_TYPE:A,BUTTON_TYPE:Q,GROUP_DEFAULT:K}},setup:function(){var e=Object(a["y"])(null);return{uploadImage:e}},components:{Header:Je,StepLine:Ze,Button:ae,Footer:ot},computed:Object(ie["a"])(Object(ie["a"])({},Object(ue["d"])(["type","teamCount","imgBase64","roundGroupCount"])),{},{teamCountNum:{get:function(){return this.teamCount},set:function(e){this.teamCountChange(parseInt(e))}},roundGroupCountNum:{get:function(){return this.roundGroupCount},set:function(e){var t=parseInt(e);t!==t&&(t=K),this.roundGroupCountChange(t)}},teamNumInGroup:function(){return(this.teamCountNum/this.roundGroupCount).toFixed(2)}}),methods:Object(ie["a"])(Object(ie["a"])({},Object(ue["c"])(["typeChange","teamCountChange","roundScoreDefault","imgBase64Change","roundGroupCountChange"])),{},{imgChange:function(){var e=this.uploadImage.files[0];this.imgToBase64(e)},imgToBase64:function(e){var t=this,n=new FileReader;n.readAsDataURL(e),n.onload=function(){t.imgBase64Change({img:n.result})},n.onerror=function(e){console.error("Error: ",e),t.alertOpen({msg:"出了一些錯誤，請再嘗試一次"})}},resetImg:function(){this.imgBase64Change({img:""}),this.uploadImage.value=null},typeChangeByInput:function(e){this.typeChange(e),this.teamCountChange(0),this.roundGroupCountChange(K)}})};n("d0ac");const ut=l()(it,[["render",Ge],["__scopeId","data-v-696769fc"]]);var st=ut,dt=function(e){return Object(a["w"])("data-v-d92b7c9a"),e=e(),Object(a["u"])(),e},lt={class:"wrap"},bt={class:"outer"},Ot={class:"contain-box"},gt={class:"contain"},ft=dt((function(){return Object(a["g"])("h3",{class:"step-title"},"2/填寫隊伍名稱並選擇種子選手",-1)})),pt={class:"article"},jt=dt((function(){return Object(a["g"])("div",null,"隊伍名稱",-1)})),mt={key:0},ht=["value","onChange"],yt={class:"step"},_t=Object(a["h"])("上一步"),It=Object(a["h"])("下一步");function vt(e,t,n,c,r,o){var i=Object(a["B"])("Header"),u=Object(a["B"])("StepLine"),s=Object(a["B"])("Checkbox"),d=Object(a["B"])("Button"),l=Object(a["B"])("router-link"),b=Object(a["B"])("Footer");return Object(a["t"])(),Object(a["f"])("div",lt,[Object(a["i"])(i),Object(a["g"])("div",bt,[Object(a["i"])(u,{"now-step":2}),Object(a["g"])("div",Ot,[Object(a["g"])("div",gt,[ft,Object(a["g"])("div",pt,[Object(a["g"])("ul",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(o.column,(function(t){return Object(a["t"])(),Object(a["f"])("li",{key:t},[jt,e.type!==r.CONTEST_TYPE.ROUND.id?(Object(a["t"])(),Object(a["f"])("div",mt,"種子")):Object(a["e"])("",!0)])})),128)),(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.teamInfo,(function(t,n){return Object(a["t"])(),Object(a["f"])("li",{key:n},[Object(a["g"])("input",{class:"input-underline",type:"text",name:"",id:"",value:t.name,onChange:function(t){return e.teamNameChange({name:t.target.value,idx:n})}},null,40,ht),e.type!==r.CONTEST_TYPE.ROUND.id?(Object(a["t"])(),Object(a["d"])(s,{key:0,"is-check":t.is_seed,"change-func":function(t){return e.seedChange({is_seed:t.target.checked,idx:n})}},null,8,["is-check","change-func"])):Object(a["e"])("",!0)])})),128))])])])]),Object(a["g"])("div",yt,[Object(a["i"])(l,{to:"/step_one",custom:""},{default:Object(a["I"])((function(e){var t=e.navigate;return[Object(a["i"])(d,{type:r.BUTTON_TYPE.FIVE,click_fun:t},{default:Object(a["I"])((function(){return[_t]})),_:2},1032,["type","click_fun"])]})),_:1}),Object(a["i"])(l,{to:"/step_three",custom:""},{default:Object(a["I"])((function(e){var t=e.navigate;return[Object(a["i"])(d,{type:r.BUTTON_TYPE.SECOND,click_fun:t},{default:Object(a["I"])((function(){return[It]})),_:2},1032,["type","click_fun"])]})),_:1})])]),Object(a["i"])(b)])}var xt=function(e){return Object(a["w"])("data-v-08296f1a"),e=e(),Object(a["u"])(),e},Tt=["checked"],Ct=xt((function(){return Object(a["g"])("i",{class:"icon-seedling-solid seed"},null,-1)}));function Et(e,t,n,c,r,o){return Object(a["t"])(),Object(a["f"])("label",null,[Object(a["g"])("input",{class:"checkbox-seed",type:"checkbox",onChange:t[0]||(t[0]=function(){return n.changeFunc&&n.changeFunc.apply(n,arguments)}),checked:n.isCheck},null,40,Tt),Ct])}var Nt={props:["changeFunc","isCheck"]};n("9fcc");const kt=l()(Nt,[["render",Et],["__scopeId","data-v-08296f1a"]]);var St=kt,Pt=4,wt={data:function(){return{STEP_IDX:Z,BUTTON_TYPE:Q,CONTEST_TYPE:A}},components:{StepLine:Ze,Header:Je,Footer:ot,Button:ae,Checkbox:St},computed:Object(ie["a"])(Object(ie["a"])({},Object(ue["d"])(["teamInfo","type"])),{},{column:function(){return this.teamInfo.length>Pt?Pt:this.teamInfo.length}}),methods:Object(ie["a"])({},Object(ue["c"])(["teamNameChange","seedChange"]))};n("d9b4");const Lt=l()(wt,[["render",vt],["__scopeId","data-v-d92b7c9a"]]);var Bt=Lt,Rt=function(e){return Object(a["w"])("data-v-3f7a33f4"),e=e(),Object(a["u"])(),e},Dt={class:"wrap"},Yt={class:"outer"},At={class:"contain-box"},Wt={class:"contain"},Ut=Rt((function(){return Object(a["g"])("h3",{class:"step-title"},"3/填寫日期與場地與調整隊伍",-1)})),Gt={class:"article"},Ft={class:"step"},zt={class:"btn-area"},Mt=Object(a["h"])("上一步"),Kt=Object(a["h"])("重新分配隊伍"),Vt={class:"btn-area"},Ht=Object(a["h"])("列印"),Jt=Object(a["h"])("儲存");function Xt(e,t,n,c,r,o){var i=Object(a["B"])("Header"),u=Object(a["B"])("StepLine"),s=Object(a["B"])("Single"),d=Object(a["B"])("Double"),l=Object(a["B"])("Round"),b=Object(a["B"])("Button"),O=Object(a["B"])("router-link"),g=Object(a["B"])("Footer");return Object(a["t"])(),Object(a["f"])("div",Dt,[Object(a["i"])(i),Object(a["g"])("div",Yt,[Object(a["i"])(u,{"now-step":3}),Object(a["g"])("div",At,[Object(a["g"])("div",Wt,[Ut,Object(a["g"])("div",Gt,[e.type===r.CONTEST_TYPE.SINGLE.id?(Object(a["t"])(),Object(a["d"])(s,{key:0})):Object(a["e"])("",!0),e.type===r.CONTEST_TYPE.DOUBLE.id?(Object(a["t"])(),Object(a["d"])(d,{key:1})):Object(a["e"])("",!0),e.type===r.CONTEST_TYPE.ROUND.id?(Object(a["t"])(),Object(a["d"])(l,{key:2})):Object(a["e"])("",!0)])])]),Object(a["g"])("div",Ft,[Object(a["g"])("div",zt,[Object(a["i"])(O,{to:"/step_two",custom:""},{default:Object(a["I"])((function(e){var t=e.navigate;return[Object(a["i"])(b,{type:r.BUTTON_TYPE.FIVE,click_fun:t},{default:Object(a["I"])((function(){return[Mt]})),_:2},1032,["type","click_fun"])]})),_:1}),Object(a["i"])(b,{type:r.BUTTON_TYPE.FIVE,onClick:e.contestInfoSizeChange},{default:Object(a["I"])((function(){return[Kt]})),_:1},8,["type","onClick"])]),Object(a["g"])("div",Vt,[Object(a["i"])(O,{to:"/print_contest",custom:""},{default:Object(a["I"])((function(e){var t=e.navigate;return[Object(a["i"])(b,{type:r.BUTTON_TYPE.FORTH,click_fun:t},{default:Object(a["I"])((function(){return[Ht]})),_:2},1032,["type","click_fun"])]})),_:1}),Object(a["i"])(b,{type:r.BUTTON_TYPE.SECOND,onClick:o.downloadInput},{default:Object(a["I"])((function(){return[Jt]})),_:1},8,["type","onClick"])])])]),Object(a["i"])(g)])}function $t(e,t,n,c,r,o){var i=Object(a["B"])("Match");return Object(a["t"])(),Object(a["f"])("div",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.contestInfo.WIN,(function(t,n){return Object(a["t"])(),Object(a["f"])("ul",{key:n},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(t,c){return Object(a["t"])(),Object(a["d"])(i,{key:c,game:t,"contest-type":e.type,"game-type":r.GAME_TYPE.WIN,idx:c,"round-idx":n,"team-name-change":e.teamNameChange,"game-date-change":e.gameDateChangeByType,"game-time-change":e.gameTimeChangeByType,"game-place-change":e.gamePlaceChangeByType,"game-score-change":e.gameScoreChangeByType,"drag-target-info":o.dragTargetInfo,"change-player":o.changePlayer},null,8,["game","contest-type","game-type","idx","round-idx","team-name-change","game-date-change","game-time-change","game-place-change","game-score-change","drag-target-info","change-player"])})),128))])})),128))])}n("d3b7");var qt={key:0},Qt={class:"title"},Zt={key:0,class:"red-icon"},en={key:1,class:"red-icon"},tn=["data-role","draggable","onDragstart","onDrop"],nn={key:0,class:"drag-icon border-0 border-r-1 border-l-4"},an={key:0,class:"icon-seedling-solid"},cn={key:1,class:"icon-grip-vertical-solid"},rn=["onChange","placeholder","value","disabled"],on=["onChange","placeholder","value","disabled"],un=["disabled","value"],sn=["value","disabled"],dn=["value","placeholder","disabled"];function ln(e,t,n,c,r,o){var i=this;return o.match_data.game.show?(Object(a["t"])(),Object(a["f"])("li",qt,[Object(a["g"])("div",Qt,[Object(a["g"])("span",null,Object(a["D"])(o.match_data.round)+"-"+Object(a["D"])(o.match_data.game_number),1),o.match_data.game.championship?(Object(a["t"])(),Object(a["f"])("span",Zt,"決")):Object(a["e"])("",!0),o.match_data.game.third_place?(Object(a["t"])(),Object(a["f"])("span",en,"季")):Object(a["e"])("",!0)]),(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(Object.keys(r.PLAYER_KEY),(function(e){return Object(a["t"])(),Object(a["f"])("div",{key:e,class:Object(a["o"])(["player-info",{"mb-4":r.PLAYER_KEY[e]===r.PLAYER_KEY.PLAYER1,"mb-10":r.PLAYER_KEY[e]===r.PLAYER_KEY.PLAYER2,winner:i.match_data.winnerGet()===r.PLAYER_KEY[e],loser:i.match_data.winnerGet()===r.playerKeyOtherGet(e)}]),"data-role":o.match_data.draggableCheck()?"drag-drop-container":"",draggable:o.match_data.draggableCheck(),onDragstart:function(t){return o.onDragging(t,e)},onDrop:function(t){return o.drop(t,e)},onDragover:t[0]||(t[0]=function(){return o.allowDrop&&o.allowDrop.apply(o,arguments)})},[o.match_data.draggableCheck()?(Object(a["t"])(),Object(a["f"])("div",nn,[o.match_data.seedCheck(e)?(Object(a["t"])(),Object(a["f"])("i",an)):(Object(a["t"])(),Object(a["f"])("i",cn))])):Object(a["e"])("",!0),Object(a["g"])("input",{class:"w-70 border-0 border-r-1",type:"text",name:"",id:"",onChange:function(t){return n.teamNameChange({idx:o.match_data.idGet(e),name:t.target.value})},placeholder:o.match_data.namePlaceholderGet(e),value:o.match_data.nameGet(e),disabled:o.match_data.nameDisabled(e)},null,40,rn),Object(a["g"])("input",{class:"w-30 border-0",type:"number",name:"",id:"",onChange:function(t){return n.gameScoreChange({roundIdx:o.match_data.roundIdx,idx:o.match_data.idx,groupIdx:n.groupIdx,playerKey:e,score:parseInt(t.target.value),type:n.gameType})},placeholder:o.match_data.game.bye?"-":"比分",value:o.match_data.scoreValue(e),disabled:o.match_data.scoreDisabled(e)},null,40,on)],42,tn)})),128)),Object(a["g"])("div",null,[Object(a["g"])("input",{class:"w-40",type:"date",name:"",id:"",disabled:o.match_data.game.bye,value:o.match_data.game.date,onChange:t[1]||(t[1]=function(e){return n.gameDateChange({roundIdx:o.match_data.roundIdx,idx:o.match_data.idx,groupIdx:n.groupIdx,date:e.target.value,type:n.gameType})})},null,40,un),Object(a["g"])("input",{class:"w-30",type:"time",name:"",id:"",value:o.match_data.game.time,onChange:t[2]||(t[2]=function(e){return n.gameTimeChange({roundIdx:o.match_data.roundIdx,idx:o.match_data.idx,groupIdx:n.groupIdx,time:e.target.value,type:n.gameType})}),disabled:o.match_data.game.bye},null,40,sn),Object(a["g"])("input",{class:"w-30",type:"text",name:"",id:"",value:o.match_data.game.place,placeholder:o.match_data.game.bye?"-":"場地",disabled:o.match_data.game.bye,onChange:t[3]||(t[3]=function(e){return n.gamePlaceChange({roundIdx:n.roundIdx,idx:n.idx,groupIdx:n.groupIdx,place:e.target.value,type:n.gameType})})},null,40,dn)])])):Object(a["e"])("",!0)}var bn=n("d4ec"),On=n("bee2"),gn=(n("4e82"),function(){function e(t){Object(bn["a"])(this,e),this.contestType=t.contestType,this.gameType=t.gameType,this.game=t.game,this.idx=t.idx,this.roundIdx=t.roundIdx,this.teamInfo=t.teamInfo,this.round=t.roundIdx+1,this.game_number=t.idx+1,this.scoreDefault=t.game.bye?"-":"比分"}return Object(On["a"])(e,[{key:"namePlaceholderGetFromPrevGame",value:function(e){var t=this.game[e].game_type,n=this.game[e].winner_chose,a=this.game[e].sort,c=this.contestType===A.SINGLE.id?"":t===U.WIN?"勝部":"敗部",r=n?"勝者":"敗者",o=a.roundIdx+1,i=a.game_idx+1;return"".concat(c).concat(o,"-").concat(i," ").concat(r)}},{key:"namePlaceholderGet",value:function(e){return this.game.bye_player.includes(X[e])?"輪空":this.round===V.ONE&&this.contestType===U.WIN?"隊伍名稱":this.namePlaceholderGetFromPrevGame(X[e])}},{key:"nameGet",value:function(e){var t=this.game[X[e]].id;return t===z?"":this.teamInfo[t].name}},{key:"idGet",value:function(e){var t=this.game[X[e]].id;return t===z?"":t}},{key:"nameDisabled",value:function(e){return this.contestType===U.LOSE||this.round!==V.ONE||this.game.bye&&this.game[X[e]].id===z}},{key:"scoreValue",value:function(e){return this.game[X[e]].score===F?"":this.game[X[e]].score}},{key:"scoreDisabled",value:function(e){return this.game.bye||this.game[X[e]].id===z}},{key:"seedCheck",value:function(e){var t=this.game[X[e]].id;if(t!==z)return this.teamInfo[t].is_seed}},{key:"draggableCheck",value:function(){return this.round===V.ONE&&this.gameType===U.WIN}},{key:"winnerGet",value:function(){return this.game.player1.score===F||this.game.player1.score===F?M:this.game.player1.score>this.game.player2.score?X.PLAYER1:this.game.player1.score<this.game.player2.score?X.PLAYER2:M}}]),e}()),fn=n("b85c");n("e9c4"),n("a630"),n("3ca3"),n("fb6a"),n("a434");function pn(){return JSON.parse(JSON.stringify(q))}function jn(e){for(var t=2,n={isLegal:!1,base:t,exponent:0,msg:""},a=0;a<G;a++){var c=Math.pow(t,a),r=Math.pow(t,a+1);if(c<e&&r>=e)return Object(ie["a"])(Object(ie["a"])({},n),{},{isLegal:!0,exponent:a})}return Object(ie["a"])(Object(ie["a"])({},n),{},{msg:"隊伍數量應為 2 ~ 64 之間"})}function mn(e,t){var n=2,a=t===U.WIN?2:4,c=[],r=[Array.from({length:e},(function(e,t){return t}))];if(e<a)return r[0];while(r[0].length>a){var o,i=[[],[]],u=Object(fn["a"])(r);try{for(u.s();!(o=u.n()).done;){var s=o.value,d=s.length/n,l=s.slice(0,d),b=s.slice(d,s.length);b=t===U.WIN?b.reverse():b,i[0].push(l),i[1].push(b)}}catch(T){u.e(T)}finally{u.f()}r=i[0].concat(i[1])}var O=[];if(t===U.WIN){var g,f=Object(fn["a"])(r);try{for(f.s();!(g=f.n()).done;){var p=g.value;for(var j in p)O[j]||(O[j]=[]),O[j].push(p[j])}}catch(T){f.e(T)}finally{f.f()}}else if(t===U.LOSE){O=[[],[],[],[]];var m,h=Object(fn["a"])(r);try{for(h.s();!(m=h.n()).done;){var y=m.value;for(var _ in O)O[_].push(y[_])}}catch(T){h.e(T)}finally{h.f()}O=[O[0],O[2],O[1],O[3]]}for(var I=0,v=O;I<v.length;I++){var x=v[I];c=c.concat(x)}return c}function hn(e){var t,n=e.sortOrder,a=e.newGameInfo,c=e.playerCountInGame,r=e.seedPlayer,o=e.notSeedPlayer,i=e.byeCount,u=a[0],s=a[1],d=r.length,l=o.length,b=Object(fn["a"])(n);try{for(b.s();!(t=b.n()).done;){var O=t.value,g=Math.floor(O/c),f=O%c===0?X.PLAYER1:X.PLAYER2,p=In(f),j=u[g];if(!j.bye){if(d>0?(j[f].id=r[r.length-d],d--):(j[f].id=o[o.length-l],l--),i>0){j.bye=!0,j.bye_player.push(p),i--;var m=Math.floor(g/c),h=g%c===0?X.PLAYER1:X.PLAYER2;s[m][h].id=j[f].id}u[g]=j}}}catch(y){b.e(y)}finally{b.f()}return a}function yn(e){for(var t=e.roundIdx,n=e.idx,a=e.contestInfo,c=e.player1Id,r=e.player2Id,o=e.scoreResult,i=e.this_game_type,u=e.game_type,s=i===u?t:0,d=s;d<a.length;d++){var l=a[d];for(var b in l)if(i!==u||d!==t||n!==parseInt(b))for(var O=l[b],g=0,f=Object.keys(X);g<f.length;g++){var p=f[g],j=[X[p]],m=O[j].sort;O[j].game_type===i&&(O[j].id!==c&&O[j].id!==r||(O[j].id=z,O[j].score=F),m.roundIdx===t&&m.game_idx===n&&(O[j].id=O[j].winner_chose?o.winner:o.loser))}}return a}function _n(e){if(1===e.length)return In(e[0])}function In(e){switch(e){case X.PLAYER1:return X.PLAYER2;case X.PLAYER2:return X.PLAYER1;default:break}}function vn(e){var t=e.game_info,n=e.contest_all;for(var a in X){var c=X[a],r=t[c],o=n[r.game_type],i=r.sort.roundIdx,u=r.sort.game_idx,s=o[i][u],d=r.winner_chose;if(s.bye){var l=s.bye_player.length;1===l&&d?xn({player_info:r,player_pre:s}):(t.bye_player.push(c),t.bye=!0)}}return 2===t.bye_player.length&&(t.show=!1),{game_info:t,contest_all:n}}function xn(e){var t=e.player_info,n=e.player_pre,a=_n(n.bye_player);return t.sort=n[a].sort,t.winner_chose=n[a].winner_chose,t.game_type=n[a].game_type,{player_info:t,player_pre:n}}function Tn(e){var t=e.game_idx,n=e.game_last_idx,a={player1_order:{game_idx:-1,player_key:""},player2_order:{game_idx:-1,player_key:""}};switch(t){case H.ONE:a={player1_order:{game_idx:H.ONE,player_key:X.PLAYER1},player2_order:{game_idx:H.TWO,player_key:X.PLAYER1}};break;case n:a={player1_order:{game_idx:t,player_key:X.PLAYER2},player2_order:{game_idx:t-1,player_key:X.PLAYER2}};break;default:a={player1_order:{game_idx:t+1,player_key:X.PLAYER1},player2_order:{game_idx:t-1,player_key:X.PLAYER2}};break}return a}function Cn(e){var t=e.player1_Id,n=e.player2_Id,a=pn(),c=!1,r=[];return t===z&&(c=!0,r.push(X.PLAYER1)),n===z&&(c=!0,r.push(X.PLAYER2)),Object.assign({},Object(ie["a"])(Object(ie["a"])({},a),{},{bye:c,bye_player:r,player1:Object(ie["a"])(Object(ie["a"])({},a.player1),{},{game_type:U.NONE,winner_chose:!0,id:t}),player2:Object(ie["a"])(Object(ie["a"])({},a.player2),{},{game_type:U.NONE,winner_chose:!1,id:n})}))}function En(e){var t=e.contest_info,n=e.game_type,a=e.player_info,c=a.groupIdx,r=a.roundIdx,o=a.idx,i=a.playerKey;switch(n){case A.ROUND.id:return t[n][c][r][o][X[i]].id;default:return t[n][r][o][X[i]].id}}function Nn(e){var t=e.contest_info,n=e.game_type,a=e.player_info,c=e.id,r=a.groupIdx,o=a.roundIdx,i=a.idx,u=a.playerKey;switch(n){case A.ROUND.id:t[n][r][o][i][X[u]].id=c;break;default:t[n][o][i][X[u]].id=c;break}return t}function kn(e){var t=[];for(var n in e){t[n]=[];var a,c=Object(fn["a"])(e[n][0]);try{for(c.s();!(a=c.n()).done;){var r=a.value;t[n][r.player1.id]={},t[n][r.player1.id][r.player1.id]=F,t[n][r.player2.id]={},t[n][r.player2.id][r.player2.id]=F}}catch(b){c.e(b)}finally{c.f()}}for(var o in t)for(var i in e[o])for(var u in e[o][i]){var s=e[o][i][u],d=s.player1.id,l=s.player2.id;t[o][d][l]={game_idx:u,round_idx:i,player_sort:[X.PLAYER1,X.PLAYER2]},t[o][l][d]={game_idx:u,round_idx:i,player_sort:[X.PLAYER2,X.PLAYER1]}}return t}function Sn(e){return Math.floor(Math.random()*e)}function Pn(e){var t=e.team,n=e.group_count,a=void 0===n?1:n,c=t.length/a,r=Object.keys(t),o=c,i=[],u=Array.from({length:a},(function(){return[]})),s=0;if(0===t.length)return u;for(var d=0;d<t.length;d++){o--;var l=Sn(r.length);i.push(t[r[l]]),r.splice(l,1),0===o&&(o=c,u[s]=i,i=[],s++)}return u}var wn={props:["contestType","gameType","game","idx","roundIdx","groupIdx","teamNameChange","gameDateChange","gameTimeChange","gamePlaceChange","gameScoreChange","dragTargetInfo","changePlayer"],data:function(){return{ROUND:V,PLAYER_KEY:X,NO_SCORE:F,NO_ID:z,GAME_TYPE:U,dragPlayer:M,playerKeyOtherGet:In}},computed:Object(ie["a"])(Object(ie["a"])({},Object(ue["d"])(["teamInfo"])),{},{match_data:function(){return new gn({contestType:this.contestType,gameType:this.gameType,game:this.game,idx:this.idx,roundIdx:this.roundIdx,teamInfo:this.teamInfo})}}),methods:{onDragging:function(e,t){var n=this.roundIdx,a=this.idx,c=this.groupIdx;this.dragTargetInfo({roundIdx:n,idx:a,playerKey:t,groupIdx:c})},allowDrop:function(e){e.preventDefault()},drop:function(e,t){var n=this;return Object(oe["a"])(regeneratorRuntime.mark((function a(){var c,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.preventDefault(),c=n.roundIdx,r=n.idx,o=n.groupIdx,a.next=4,n.changePlayer({roundIdx:c,idx:r,playerKey:t,groupIdx:o});case 4:n.$forceUpdate();case 5:case"end":return a.stop()}}),a)})))()}}};n("d35a");const Ln=l()(wn,[["render",ln],["__scopeId","data-v-1090a676"]]);var Bn=Ln,Rn={data:function(){return{GAME_TYPE:U,dragTarget:{}}},components:{Match:Bn},computed:Object(ie["a"])({},Object(ue["d"])(["contestInfo","type"])),methods:Object(ie["a"])(Object(ie["a"])(Object(ie["a"])({},Object(ue["c"])(["teamNameChange","gameDateChangeByType","gameTimeChangeByType","gamePlaceChangeByType","gameScoreChangeByType"])),Object(ue["b"])(["playerChangeByDrop"])),{},{dragTargetInfo:function(e){var t=e.roundIdx,n=e.idx,a=e.playerKey;this.dragTarget={roundIdx:t,idx:n,playerKey:a}},changePlayer:function(e){var t=e.roundIdx,n=e.idx,a=e.playerKey,c={roundIdx:t,idx:n,playerKey:a},r=this.dragTarget;this.playerChangeByDrop({dropTarget:c,dragTarget:r})}})};n("c482");const Dn=l()(Rn,[["render",$t],["__scopeId","data-v-50513278"]]);var Yn=Dn,An={class:"contest"},Wn={class:"contest"};function Un(e,t,n,c,r,o){var i=Object(a["B"])("Match");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",An,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.contestInfo.WIN,(function(t,n){return Object(a["t"])(),Object(a["f"])("ul",{key:n},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(t,c){return Object(a["t"])(),Object(a["d"])(i,{key:c,game:t,idx:c,"round-idx":n,"contest-type":e.type,"game-type":r.GAME_TYPE.WIN,"team-name-change":e.teamNameChange,"game-date-change":e.gameDateChangeByType,"game-time-change":e.gameTimeChangeByType,"game-place-change":e.gamePlaceChangeByType,"game-score-change":e.gameScoreChangeByType,"drag-target-info":o.dragTargetInfo,"change-player":o.changePlayer},null,8,["game","idx","round-idx","contest-type","game-type","team-name-change","game-date-change","game-time-change","game-place-change","game-score-change","drag-target-info","change-player"])})),128))])})),128))]),Object(a["g"])("div",Wn,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.contestInfo.LOSE,(function(t,n){return Object(a["t"])(),Object(a["f"])("ul",{key:n},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(t,c){return Object(a["t"])(),Object(a["d"])(i,{key:c,game:t,idx:c,"round-idx":n,"contest-type":e.type,"game-type":r.GAME_TYPE.LOSE,"team-name-change":e.teamNameChange,"game-date-change":e.gameDateChangeByType,"game-time-change":e.gameTimeChangeByType,"game-place-change":e.gamePlaceChangeByType,"game-score-change":e.gameScoreChangeByType,"drag-target-info":o.dragTargetInfo,"change-player":o.changePlayer},null,8,["game","idx","round-idx","contest-type","game-type","team-name-change","game-date-change","game-time-change","game-place-change","game-score-change","drag-target-info","change-player"])})),128))])})),128))])],64)}var Gn={data:function(){return{GAME_TYPE:U,dragTarget:{}}},components:{Match:Bn},computed:Object(ie["a"])({},Object(ue["d"])(["contestInfo","type"])),methods:Object(ie["a"])(Object(ie["a"])(Object(ie["a"])({},Object(ue["c"])(["teamNameChange","gameDateChangeByType","gameTimeChangeByType","gamePlaceChangeByType","gameScoreChangeByType","playerChangeByDrop"])),Object(ue["b"])(["playerChangeByDrop"])),{},{dragTargetInfo:function(e){var t=e.roundIdx,n=e.idx,a=e.playerKey;this.dragTarget={roundIdx:t,idx:n,playerKey:a}},changePlayer:function(e){var t=e.roundIdx,n=e.idx,a=e.playerKey,c={roundIdx:t,idx:n,playerKey:a},r=this.dragTarget;this.playerChangeByDrop({dropTarget:c,dragTarget:r})}})};n("82a7");const Fn=l()(Gn,[["render",Un],["__scopeId","data-v-7099cddc"]]);var zn=Fn,Mn={class:"contest"},Kn={class:"group"};function Vn(e,t,n,c,r,o){var i=Object(a["B"])("Match");return Object(a["t"])(),Object(a["f"])("div",Mn,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.contestInfo.ROUND,(function(t,n){return Object(a["t"])(),Object(a["f"])("div",{key:n},[Object(a["g"])("h4",null,"第"+Object(a["D"])(n+1)+"組",1),Object(a["g"])("div",Kn,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(t,c){return Object(a["t"])(),Object(a["f"])("ul",{key:c},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(t,u){return Object(a["t"])(),Object(a["d"])(i,{key:u,game:t,idx:u,"round-idx":c,"group-idx":n,"contest-type":e.type,"game-type":r.GAME_TYPE.WIN,"team-name-change":e.teamNameChange,"game-date-change":e.gameDateChangeByType,"game-time-change":e.gameTimeChangeByType,"game-place-change":e.gamePlaceChangeByType,"game-score-change":e.gameScoreChangeByType,"drag-target-info":o.dragTargetInfo,"change-player":o.changePlayer},null,8,["game","idx","round-idx","group-idx","contest-type","game-type","team-name-change","game-date-change","game-time-change","game-place-change","game-score-change","drag-target-info","change-player"])})),128))])})),128))])])})),128))])}var Hn={data:function(){return{GAME_TYPE:U,dragTarget:{}}},components:{Match:Bn},computed:Object(ie["a"])({},Object(ue["d"])(["contestInfo","type"])),methods:Object(ie["a"])(Object(ie["a"])(Object(ie["a"])({},Object(ue["c"])(["teamNameChange","gameDateChangeByType","gameTimeChangeByType","gamePlaceChangeByType","gameScoreChangeByType"])),Object(ue["b"])(["playerChangeByDrop"])),{},{dragTargetInfo:function(e){var t=e.roundIdx,n=e.idx,a=e.playerKey,c=e.groupIdx;this.dragTarget={roundIdx:t,idx:n,playerKey:a,groupIdx:c}},changePlayer:function(e){var t=e.roundIdx,n=e.idx,a=e.playerKey,c=e.groupIdx,r={roundIdx:t,idx:n,playerKey:a,groupIdx:c},o=this.dragTarget;this.playerChangeByDrop({dropTarget:r,dragTarget:o})}})};n("6528");const Jn=l()(Hn,[["render",Vn],["__scopeId","data-v-349d1bfa"]]);var Xn=Jn,$n={data:function(){return{CONTEST_TYPE:A,BUTTON_TYPE:Q}},created:function(){this.contestInfoSizeChange(this.teamCount)},components:{Single:Yn,Double:zn,Round:Xn,Button:ae,Footer:ot,StepLine:Ze,Header:Je},computed:Object(ie["a"])({},Object(ue["d"])(["teamCount","type"])),methods:Object(ie["a"])(Object(ie["a"])(Object(ie["a"])({},Object(ue["c"])(["downloadJSON"])),Object(ue["b"])(["contestInfoSizeChange"])),{},{downloadInput:function(){this.downloadJSON()}})};n("596e");const qn=l()($n,[["render",Xt],["__scopeId","data-v-3f7a33f4"]]);var Qn=qn,Zn=n("ffae"),ea=n.n(Zn),ta=function(e){return Object(a["w"])("data-v-c65ee0b2"),e=e(),Object(a["u"])(),e},na={class:"print"},aa={class:"title"},ca=["src"],ra={class:"type"},oa=ta((function(){return Object(a["g"])("img",{src:ea.a,class:"print-line"},null,-1)})),ia=ta((function(){return Object(a["g"])("div",{class:"noPrint"},null,-1)}));function ua(e,t,n,c,r,o){var i=Object(a["B"])("Single"),u=Object(a["B"])("Double"),s=Object(a["B"])("Round");return Object(a["t"])(),Object(a["f"])("div",na,[Object(a["g"])("div",aa,[Object(a["g"])("h1",null,[e.imgBase64?(Object(a["t"])(),Object(a["f"])("img",{key:0,src:e.imgBase64,class:"contest-img"},null,8,ca)):Object(a["e"])("",!0),Object(a["g"])("p",null,Object(a["D"])(e.contestName)+"賽程表",1)]),Object(a["g"])("div",ra,Object(a["D"])(r.CONTEST_TYPE[e.type].ch),1)]),oa,e.type===r.CONTEST_TYPE.SINGLE.id?(Object(a["t"])(),Object(a["d"])(i,{key:0,class:"single"})):Object(a["e"])("",!0),e.type===r.CONTEST_TYPE.DOUBLE.id?(Object(a["t"])(),Object(a["d"])(u,{key:1})):Object(a["e"])("",!0),e.type===r.CONTEST_TYPE.ROUND.id?(Object(a["t"])(),Object(a["d"])(s,{key:2})):Object(a["e"])("",!0),ia])}var sa=function(e){return Object(a["w"])("data-v-1bb5e1cc"),e=e(),Object(a["u"])(),e},da=["id"],la={key:0,class:"line"},ba=sa((function(){return Object(a["g"])("li",null,null,-1)})),Oa=sa((function(){return Object(a["g"])("li",null,null,-1)}));function ga(e,t,n,c,r,o){var i=Object(a["B"])("Match");return Object(a["t"])(),Object(a["f"])("div",{class:"contest",style:Object(a["p"])(o.cssVars)},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.contestInfo.WIN,(function(t,n){return Object(a["t"])(),Object(a["f"])(a["a"],{key:n},[Object(a["g"])("ul",{class:"round",id:"".concat(n===e.contestInfo.WIN.length-2?"final-round":"").concat(n===e.contestInfo.WIN.length-1?"final-round-add":"")},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(t,c){return Object(a["t"])(),Object(a["d"])(i,{key:c,game:t,idx:c,roundIdx:n,contestType:e.type},null,8,["game","idx","roundIdx","contestType"])})),128))],8,da),n!==e.contestInfo.WIN.length-1?(Object(a["t"])(),Object(a["f"])("ul",la,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(e,n){return Object(a["t"])(),Object(a["f"])(a["a"],{key:n},[n!==t.length-1?(Object(a["t"])(),Object(a["f"])(a["a"],{key:0},[ba,Oa],64)):Object(a["e"])("",!0)],64)})),128))])):Object(a["e"])("",!0)],64)})),128))],4)}var fa=function(e){return Object(a["w"])("data-v-1c38db3f"),e=e(),Object(a["u"])(),e},pa={class:"top"},ja={class:"title"},ma={class:"font-dark-200"},ha={key:0,class:"red-icon"},ya={key:1,class:"red-icon"},_a={class:"place"},Ia={class:"middle"},va={key:0},xa={key:1,class:"font-dark-300"},Ta={key:2},Ca={key:3,class:"font-dark-300"},Ea={class:"bottom"},Na=fa((function(){return Object(a["g"])("div",{class:"front-line"},null,-1)}));function ka(e,t,n,c,r,o){var i,u,s;return Object(a["t"])(),Object(a["f"])("li",{class:Object(a["o"])(["game",{hidden:!o.match_data.game.show,"no-bye":!o.match_data.game.bye}])},[Object(a["g"])("div",pa,[Object(a["g"])("div",ja,[Object(a["g"])("span",ma,Object(a["D"])(o.match_data.round)+"-"+Object(a["D"])(o.match_data.game_number),1),o.match_data.game.championship?(Object(a["t"])(),Object(a["f"])("span",ha,"決")):Object(a["e"])("",!0),o.match_data.game.third_place?(Object(a["t"])(),Object(a["f"])("span",ya,"季")):Object(a["e"])("",!0)]),Object(a["g"])("div",_a,Object(a["D"])(null!==(i=o.match_data.game.place)&&void 0!==i?i:""),1)]),Object(a["g"])("ul",Ia,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(Object.keys(r.PLAYER_KEY),(function(e){return Object(a["t"])(),Object(a["f"])("li",{key:e,class:Object(a["o"])({"font-dark-200":o.loser===r.PLAYER_KEY[e]})},[""!==o.match_data.nameGet(e)?(Object(a["t"])(),Object(a["f"])("div",va,Object(a["D"])(o.match_data.nameGet(e)),1)):(Object(a["t"])(),Object(a["f"])("div",xa,Object(a["D"])(o.match_data.namePlaceholderGet(e)),1)),""!==o.match_data.scoreValue(e)?(Object(a["t"])(),Object(a["f"])("div",Ta,Object(a["D"])(o.match_data.scoreValue(e)),1)):(Object(a["t"])(),Object(a["f"])("div",Ca,"比分"))],2)})),128))]),Object(a["g"])("div",Ea,[Object(a["g"])("div",null,Object(a["D"])(null!==(u=o.match_data.game.date)&&void 0!==u?u:""),1),Object(a["g"])("div",null,Object(a["D"])(null!==(s=o.match_data.game.time)&&void 0!==s?s:""),1)]),Na],2)}var Sa={props:["contestType","game","idx","roundIdx"],data:function(){return{ROUND:V,PLAYER_KEY:X,NO_SCORE:F,NO_ID:z,GAME_TYPE:U}},computed:Object(ie["a"])(Object(ie["a"])({},Object(ue["d"])(["teamInfo"])),{},{match_data:function(){return new gn({contestType:this.contestType,game:this.game,idx:this.idx,roundIdx:this.roundIdx,teamInfo:this.teamInfo})},loser:function(){var e=this.match_data.scoreValue("PLAYER1"),t=this.match_data.scoreValue("PLAYER2"),n="";return e===n||t===n?M:e<t?X.PLAYER1:e>t?X.PLAYER2:M}})};n("793b");const Pa=l()(Sa,[["render",ka],["__scopeId","data-v-1c38db3f"]]);var wa=Pa,La={components:{Match:wa},computed:Object(ie["a"])(Object(ie["a"])({},Object(ue["d"])(["contestInfo","type"])),{},{cssVars:function(){return{"--win-padding":"".concat(90*Math.pow(2,this.contestInfo.WIN.length-4)-45,"px ")}}})};n("8c7b"),n("0ed0");const Ba=l()(La,[["render",ga],["__scopeId","data-v-1bb5e1cc"]]);var Ra=Ba,Da=Object(a["g"])("div",{class:"game-type"},"勝部",-1),Ya={key:0,style:{"page-break-after":"always"}},Aa=Object(a["g"])("div",{class:"game-type"},"敗部",-1),Wa={class:"round"},Ua={class:"line"},Ga=Object(a["g"])("li",null,null,-1),Fa=Object(a["g"])("li",null,null,-1);function za(e,t,n,c,r,o){var i=Object(a["B"])("Single"),u=Object(a["B"])("Match");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Da,Object(a["i"])(i,{class:"win"}),o.page_break?(Object(a["t"])(),Object(a["f"])("div",Ya,"1")):Object(a["e"])("",!0),Aa,Object(a["g"])("div",{class:Object(a["o"])(["contest lose",{"count-pow":e.teamCountPowCheck,"count-not-pow":!e.teamCountPowCheck}]),style:Object(a["p"])(o.cssVars)},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.contestInfo.LOSE,(function(t,n){return Object(a["t"])(),Object(a["f"])(a["a"],{key:n},[Object(a["g"])("ul",Wa,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(t,c){return Object(a["t"])(),Object(a["d"])(u,{key:c,game:t,idx:c,"round-idx":n,"contest-type":e.type},null,8,["game","idx","round-idx","contest-type"])})),128))]),Object(a["g"])("ul",Ua,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(e,n){return Object(a["t"])(),Object(a["f"])(a["a"],{key:n},[n!==t.length-1?(Object(a["t"])(),Object(a["f"])(a["a"],{key:0},[Ga,Fa],64)):Object(a["e"])("",!0)],64)})),128))])],64)})),128))],6)],64)}var Ma={components:{Match:wa,Single:Ra},data:function(){return{CONTEST_TYPE:A}},computed:Object(ie["a"])(Object(ie["a"])({},Object(ue["d"])(["contestInfo","type","teamCountPowCheck"])),{},{cssVars:function(){return{"--defeat-even":!1,"--defeat-last-line-height":"".concat(this.lastLineHeight(),"px"),"--defeat-last-line-height-print":"".concat(this.lastLineHeightInPrint(),"px"),"--defeat-last-line-pos":"".concat(this.lastLinePosition(),"px")}},page_break:function(){return this.type===this.CONTEST_TYPE.DOUBLE.id&&this.contestInfo.WIN[0].length>=16}}),methods:{lastLineHeight:function(){var e=this.contestInfo.WIN[0].length,t=this.contestInfo.LOSE[0].length,n=70*e+20*(e-1),a=70*t+90*(t-1),c=this.page_break?50:70;return(n+a)/2+c},lastLineHeightInPrint:function(){var e=1122,t=this.contestInfo.WIN[0].length,n=this.contestInfo.LOSE[0].length,a=70*t+20*(t-1),c=70*n+90*(n-1);switch(t){case 4:return this.lastLineHeight();case 8:return this.lastLineHeight();case 16:return 2*e-a/2-146+c/2+150;default:break}},lastLinePosition:function(){var e=this.contestInfo.LOSE[0].length,t=70*e+90*(e-1);return t/2}}};n("2248");const Ka=l()(Ma,[["render",za]]);var Va=Ka,Ha=(n("25f0"),function(e){return Object(a["w"])("data-v-532ab267"),e=e(),Object(a["u"])(),e}),Ja={key:0,style:{"page-break-after":"always"}},Xa={class:"group"},$a={class:"score-table"},qa=["colspan"],Qa=Ha((function(){return Object(a["g"])("th",null,null,-1)})),Za={key:0};function ec(e,t,n,c,r,o){var i=Object(a["B"])("Match");return Object(a["t"])(),Object(a["f"])("div",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.contestInfo.ROUND,(function(t,n){return Object(a["t"])(),Object(a["f"])("div",{key:n},[n>0&&t[0].length>3?(Object(a["t"])(),Object(a["f"])("div",Ja)):Object(a["e"])("",!0),Object(a["g"])("h4",null,"第"+Object(a["D"])(n+1)+"組",1),Object(a["g"])("div",Xa,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(function(e,t){return Object(a["t"])(),Object(a["f"])("ul",{class:"round no-line",key:t},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e,(function(e,n){return Object(a["t"])(),Object(a["d"])(i,{key:n,game:e,idx:n,roundIdx:t},null,8,["game","idx","roundIdx"])})),128))])})),128)),Object(a["g"])("div",$a,[Object(a["g"])("tr",null,[Object(a["g"])("th",{colspan:e.teamInfo.length,class:"th-bg"},"計分板",8,qa)]),Object(a["g"])("tr",null,[Qa,(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(o.scoreSort(e.roundScoreSort[n]),(function(t){return Object(a["t"])(),Object(a["f"])(a["a"],null,[e.roundScoreSort[n][t]&&t!==r.NO_ID.toString()?(Object(a["t"])(),Object(a["f"])("th",{key:t},Object(a["D"])(e.teamInfo[t].name),1)):Object(a["e"])("",!0)],64)})),256))]),(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.roundScoreSort[n],(function(n,c){return Object(a["t"])(),Object(a["f"])(a["a"],null,[n?(Object(a["t"])(),Object(a["f"])("tr",{key:c},[c!==r.NO_ID.toString()?(Object(a["t"])(),Object(a["f"])("td",Za,Object(a["D"])(e.teamInfo[c].name),1)):Object(a["e"])("",!0),(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(n,(function(e,n){return Object(a["t"])(),Object(a["f"])(a["a"],null,[n!==r.NO_ID.toString()?(Object(a["t"])(),Object(a["f"])(a["a"],{key:0},[e&&e!==r.NO_SCORE?(Object(a["t"])(),Object(a["f"])("td",{class:Object(a["o"])({win:o.prevPlayerWin(t,e)}),key:n},Object(a["D"])(o.scoreText(t,e)),3)):Object(a["e"])("",!0),e===r.NO_SCORE?(Object(a["t"])(),Object(a["f"])("td",{class:"gray-bg",key:n})):Object(a["e"])("",!0)],64)):Object(a["e"])("",!0)],64)})),256))])):Object(a["e"])("",!0)],64)})),256))])])])})),128))])}var tc={components:{Match:wa},data:function(){return{NO_SCORE:F,NO_ID:z}},computed:Object(ie["a"])({},Object(ue["d"])(["contestInfo","teamInfo","roundScore","roundScoreSort"])),methods:{scoreShow:function(e){return e===F?"":e},scoreSort:function(e){return Object.keys(e)},prevPlayerWin:function(e,t){var n=e[t.round_idx][t.game_idx],a=n[t.player_sort[0]].score,c=n[t.player_sort[1]].score;return a>c},scoreText:function(e,t){var n=e[t.round_idx][t.game_idx],a=n[t.player_sort[0]].score,c=n[t.player_sort[1]].score;return a=a===F?"":a,c=c===F?"":c,"".concat(a,":").concat(c)}}};n("7f80");const nc=l()(tc,[["render",ec],["__scopeId","data-v-532ab267"]]);var ac=nc,cc={data:function(){return{CONTEST_TYPE:A}},created:function(){this.contestReset(!1)},computed:Object(ie["a"])({},Object(ue["d"])(["type","contestName","imgBase64","isContestReset"])),components:{Single:Ra,Double:Va,Round:ac},methods:Object(ie["a"])({},Object(ue["c"])(["contestReset"]))};n("c7cb"),n("01f1");const rc=l()(cc,[["render",ua],["__scopeId","data-v-c65ee0b2"]]);var oc=rc,ic=[{path:"/",name:"Home",component:ge},{path:"/step_one",name:"StepOne",component:st},{path:"/step_two",name:"StepTwo",component:Bt},{path:"/step_three",name:"StepThree",component:Qn},{path:"/print_contest",name:"PrintContest",component:oc}],uc=Object(j["a"])({history:Object(j["b"])("/yue-pai/"),routes:ic}),sc=uc,dc=(n("4de4"),n("aeb1")),lc=n.n(dc),bc=Object(ue["a"])({state:{contestName:"",type:"",teamCount:0,teamCountPowCheck:!1,teamInfo:[],contestInfo:JSON.parse(JSON.stringify(J)),isContestReset:!0,roundScore:[],roundScoreSort:[],roundGroupCount:K,imgBase64:""},mutations:{contestReset:function(e,t){e.isContestReset=t.is_contest_reset},downloadJSON:function(e){var t=new Date,n="".concat(e.contestName,"_").concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate(),".json");lc()(JSON.stringify(e),n,"text/plain")},filesContentGet:function(e,t){for(var n=Object.keys(e),a=Object.keys(t),c=0,r=n;c<r.length;c++){var o=r[c];a.includes(o)&&("isContestReset"!==o&&(e[o]=t[o]))}},contestNameChange:function(e,t){var n=t;e.contestName=n},typeChange:function(e,t){var n=t.target.value;W.includes(n)&&(e.type=n,e.isContestReset=!0)},contestInfoDefault:function(e){e.contestInfo=JSON.parse(JSON.stringify(J))},teamCountChange:function(e,t){var n=t;isNaN(n)?e.teamCount=0:(e.isContestReset=!0,e.teamCount=n,e.teamInfo=Array.from({length:n},(function(e,t){return Object.assign({},Object(ie["a"])(Object(ie["a"])({},$),{},{id:t,name:t.toString()}))})))},roundGroupCountChange:function(e,t){e.isContestReset=!0,e.roundGroupCount=t},imgBase64Change:function(e,t){var n=t.img;e.imgBase64=n},teamNameChange:function(e,t){var n=t.idx,a=t.name;e.teamInfo[n].name=a},gameDateChangeByType:function(e,t){var n=t.type,a=t.roundIdx,c=t.idx,r=t.groupIdx,o=t.date;e.type===A.ROUND.id?e.contestInfo[e.type][r][a][c].date=o:e.contestInfo[n][a][c].date=o},gameTimeChangeByType:function(e,t){var n=t.type,a=t.roundIdx,c=t.idx,r=t.groupIdx,o=t.time;e.type===A.ROUND.id?e.contestInfo[e.type][r][a][c].time=o:e.contestInfo[n][a][c].time=o},gamePlaceChangeByType:function(e,t){var n=t.type,a=t.roundIdx,c=t.idx,r=t.groupIdx,o=t.place;e.type===A.ROUND.id?e.contestInfo[e.type][r][a][c].place=o:e.contestInfo[n][a][c].place=o},gameScoreChangeByType:function(e,t){var n=t.type,a=t.roundIdx,c=t.idx,r=t.groupIdx,o=t.playerKey,i=t.score,u=X[o];if(e.type===A.ROUND.id){var s=e.contestInfo[e.type][r][a][c];e.contestInfo[e.type][r][a][c][u].score=""===i?F:i;var d=s[u],l=s[In(u)],b=d.id<l.id,O=b?d.id:l.id,g=b?l.id:d.id,f=b?0:1,p=b?1:0;return e.roundScore[r][O][g][f]=i,void(e.roundScore[r][g][O][p]=i)}e.contestInfo[n][a][c][u].score=""===i?F:i;var j=e.contestInfo[n][a][c],m=j[X.PLAYER1],h=j[X.PLAYER2],y=m.score!==F&&h.score!==F&&m.score!==h.score,_={has_result:y,winner:z,loser:z};if(_.has_result)switch(m.score>h.score){case!0:_=Object(ie["a"])(Object(ie["a"])({},_),{},{winner:m.id,loser:h.id});break;case!1:_=Object(ie["a"])(Object(ie["a"])({},_),{},{winner:h.id,loser:m.id});break;default:break}if(e.contestInfo[U.WIN]=yn({roundIdx:a,idx:c,contestInfo:e.contestInfo[U.WIN],player1Id:m.id,player2Id:h.id,scoreResult:_,this_game_type:n,game_type:U.WIN}),e.contestInfo[U.LOSE]=yn({roundIdx:a,idx:c,contestInfo:e.contestInfo[U.LOSE],player1Id:m.id,player2Id:h.id,scoreResult:_,this_game_type:n,game_type:U.LOSE}),e.type===A.DOUBLE.id){var I=e.contestInfo[U.WIN].length-2,v=0;if(a===I&&v===c){var x=e.contestInfo[U.WIN].length-1,T=0;e.contestInfo[U.WIN][x][T].show=m.score<h.score}}},roundScoreDefault:function(e){e.type===A.ROUND.id&&(e.roundScore=Array.from({length:e.roundGroupCount},(function(){return Array.from({length:e.teamCount},(function(t,n){return Array.from({length:e.teamCount},(function(e,t){return n===t?null:[F,F]}))}))})))},seedChange:function(e,t){var n=t.is_seed,a=t.idx;e.teamInfo[a].is_seed=n,e.isContestReset=!0},roundOneWin:function(e,t){var n=t.gameLen,a=2,c=Object.assign([],e.contestInfo.WIN);c.unshift(Array.from({length:n},(function(){return pn()})));var r=Pn({team:e.teamInfo.filter((function(e){return e.is_seed})).map((function(e){return e.id}))})[0],o=Pn({team:e.teamInfo.filter((function(e){return!e.is_seed})).map((function(e){return e.id}))})[0],i=2*n-e.teamCount,u=mn(n*a,U.WIN);e.contestInfo.WIN=hn({sortOrder:u,newGameInfo:c,playerCountInGame:a,seedPlayer:r,notSeedPlayer:o,byeCount:i})},roundOtherWin:function(e,t){var n=t.roundIdx,a=t.gameLen,c=t.last_round,r=void 0!==c&&c,o=Object.assign([],e.contestInfo.WIN);o.unshift(Array.from({length:a},(function(e,t){var a=pn();return Object.assign({},Object(ie["a"])(Object(ie["a"])({},a),{},{player1:Object(ie["a"])(Object(ie["a"])({},a.player1),{},{game_type:U.WIN,sort:{roundIdx:n,game_idx:2*t}}),player2:Object(ie["a"])(Object(ie["a"])({},a.player2),{},{game_type:U.WIN,sort:{roundIdx:n,game_idx:2*t+1}}),championship:r}))}))),e.contestInfo.WIN=o},thirdPlaceWinAdd:function(e){var t=e.contestInfo.WIN.length-1,n=t-1,a=e.contestInfo.WIN[n];if(!a[0].bye&&!a[1].bye){var c=pn(),r=Object.assign({},Object(ie["a"])(Object(ie["a"])({},c),{},{player1:Object(ie["a"])(Object(ie["a"])({},c.player1),{},{game_type:U.WIN,winner_chose:!1,sort:{roundIdx:n,game_idx:H.ONE}}),player2:Object(ie["a"])(Object(ie["a"])({},c.player2),{},{game_type:U.WIN,winner_chose:!1,sort:{roundIdx:n,game_idx:H.TWO}}),third_place:!0}));e.contestInfo.WIN[t].push(r)}},championLoseAdd:function(e){var t=e.contestInfo.WIN.length-1,n=e.contestInfo.LOSE.length-1,a=pn(),c=Object(ie["a"])(Object(ie["a"])({},a),{},{player1:Object(ie["a"])(Object(ie["a"])({},a.player1),{},{game_type:U.WIN,winner_chose:!0,sort:{roundIdx:t,game_idx:H.ONE}}),player2:Object(ie["a"])(Object(ie["a"])({},a.player2),{},{game_type:U.LOSE,winner_chose:!0,sort:{roundIdx:n,game_idx:H.ONE}}),championship:!0});e.contestInfo.WIN.push([c])},championAdd:function(e){var t=e.contestInfo.WIN.length-1,n=e.contestInfo.LOSE.length-1,a=pn(),c=Object(ie["a"])(Object(ie["a"])({},a),{},{player1:Object(ie["a"])(Object(ie["a"])({},a.player1),{},{game_type:U.WIN,winner_chose:!0,sort:{roundIdx:t,game_idx:H.ONE}}),player2:Object(ie["a"])(Object(ie["a"])({},a.player2),{},{game_type:U.WIN,winner_chose:!1,sort:{roundIdx:n,game_idx:H.ONE}}),championship:!0,show:!1});e.contestInfo.WIN.push([c])},roundOneAllByeCheck:function(e){var t=e.contestInfo[U.LOSE];if(e.teamCountPowCheck=t[0].map((function(e){return e.bye})).includes(!1),!e.teamCountPowCheck){t.shift();var n=t.map((function(e){return e.map((function(e){var t=e.player1,n=e.player2,a=t.game_type===U.LOSE?-1:0,c=n.game_type===U.LOSE?-1:0;return Object(ie["a"])(Object(ie["a"])({},e),{},{player1:Object(ie["a"])(Object(ie["a"])({},t),{},{sort:Object(ie["a"])(Object(ie["a"])({},t.sort),{},{roundIdx:t.sort.roundIdx+a})}),player2:Object(ie["a"])(Object(ie["a"])({},n),{},{sort:Object(ie["a"])(Object(ie["a"])({},n.sort),{},{roundIdx:n.sort.roundIdx+c})})})}))}));e.contestInfo[U.LOSE]=n}},roundLoseRoundOne:function(e){var t=e.contestInfo.WIN[0].length,n=t/2,a=mn(t,U.LOSE),c=2,r=Object.assign([],e.contestInfo.LOSE);r.unshift(Array.from({length:n},(function(t,n){var r=pn(),o=a[c*n],i=a[c*n+1],u=Object(ie["a"])(Object(ie["a"])({},r.player1),{},{sort:{roundIdx:H.ONE,game_idx:o},winner_chose:!1,game_type:U.WIN}),s=Object(ie["a"])(Object(ie["a"])({},r.player2),{},{sort:{roundIdx:H.ONE,game_idx:i},winner_chose:!1,game_type:U.WIN}),d=Object.assign({},Object(ie["a"])(Object(ie["a"])({},r),{},{player1:u,player2:s})),l=vn({game_info:d,contest_all:e.contestInfo}),b=l.game_info,O=l.contest_all;return d=b,e.contestInfo=O,d}))),e.contestInfo.LOSE=r},roundLoseFromLose:function(e,t){var n=t.roundIdx,a=t.gameLenInLose,c=n===H.ONE?U.WIN:U.LOSE,r=e.contestInfo[c],o=n===H.ONE?H.ONE:r.length-1,i=n!==H.ONE,u=Object.assign([],e.contestInfo.LOSE);u.push(Array.from({length:a},(function(t,n){var a=pn(),r=2*n,u=2*n+1,s=Object(ie["a"])(Object(ie["a"])({},a.player1),{},{game_type:c,sort:{roundIdx:o,game_idx:r},winner_chose:i}),d=Object(ie["a"])(Object(ie["a"])({},a.player1),{},{game_type:c,sort:{roundIdx:o,game_idx:u},winner_chose:i}),l=Object.assign({},Object(ie["a"])(Object(ie["a"])({},a),{},{player1:s,player2:d})),b=vn({game_info:l,contest_all:e.contestInfo}),O=b.game_info,g=b.contest_all;return l=O,e.contestInfo=g,l}))),e.contestInfo.LOSE=u},roundLoseFromLoseWin:function(e,t){var n=t.roundIdx,a=t.gameLenInLose,c=e.contestInfo.LOSE.length-1,r=n,o=mn(a,U.LOSE).reverse(),i=Object.assign([],e.contestInfo.LOSE);i.push(Array.from({length:a},(function(t,n){var a=o[n],i=pn(),u=Object.assign({},Object(ie["a"])(Object(ie["a"])({},i),{},{player1:Object(ie["a"])(Object(ie["a"])({},i.player1),{},{game_type:U.LOSE,sort:{roundIdx:c,game_idx:n},winner_chose:!0}),player2:Object(ie["a"])(Object(ie["a"])({},i.player2),{},{game_type:U.WIN,sort:{roundIdx:r,game_idx:a},winner_chose:!1})})),s=vn({game_info:u,contest_all:e.contestInfo}),d=s.game_info,l=s.contest_all;return u=d,e.contestInfo=l,u}))),e.contestInfo.LOSE=i},roundRobinOne:function(e,t){var n=t.game_count,a=t.groupIdx,c=t.team,r=e.roundGroupCount,o=e.teamCount,i=o/r,u=Object.assign([],e.contestInfo.ROUND),s=0;u[a]=[],u[a].unshift(Array.from({length:n},(function(e,t){s+=2;var n=s>i,a=c[2*t],r=n?z:c[2*t+1];return Cn({player1_Id:a,player2_Id:r,bye:n})}))),e.contestInfo.ROUND=u},roundRobinOther:function(e,t){for(var n=t.round_count,a=t.game_count,c=t.groupIdx,r=a-1,o=Object.assign([],e.contestInfo.ROUND),i=function(e){var t=o[c][e-1],n=Array.from({length:a},(function(e,n){var a=Tn({game_idx:n,game_last_idx:r}),c=a.player1_order,o=a.player2_order,i=t[c.game_idx][c.player_key].id,u=t[o.game_idx][o.player_key].id;return Cn({player1_Id:i,player2_Id:u})}));o[c][e]=n},u=1;u<n;u++)i(u);e.contestInfo.ROUND=o},playerChange:function(e,t){var n=e.contestInfo,a=t.dropTarget,c=t.dragTarget,r=t.gameType,o=En({contest_info:n,game_type:r,player_info:a}),i=En({contest_info:n,game_type:r,player_info:c}),u={};u=Nn({contest_info:n,game_type:r,player_info:a,id:i}),u=Nn({contest_info:n,game_type:r,player_info:c,id:o}),e.contestInfo=u},roundScoreSortBuild:function(e){e.roundScoreSort=kn(e.contestInfo.ROUND)}},actions:{singleInfoSizeChange:function(e,t){for(var n=e.commit,a=t.base,c=t.exponent,r=0;r<=c;r++){var o=Math.pow(a,r);switch(r){case c:n("roundOneWin",{gameLen:o});break;default:n("roundOtherWin",{roundIdx:c-r-1,gameLen:o,last_round:c-r-1===c-1});break}}n("thirdPlaceWinAdd")},doubleInfoSizeChange:function(e,t){for(var n=e.commit,a=e.state,c=t.base,r=t.exponent,o=0;o<=r;o++){var i=Math.pow(c,o);switch(o){case r:n("roundOneWin",{gameLen:i});break;default:n("roundOtherWin",{roundIdx:r-o-1,gameLen:i});break}}n("roundLoseRoundOne"),a.teamCountPowCheck||(r+=1);for(var u=1;u<r;u++){var s=a.contestInfo.WIN[u].length;1!==u&&n("roundLoseFromLose",{roundIdx:u,gameLenInLose:s}),n("roundLoseFromLoseWin",{roundIdx:u,gameLenInLose:s})}n("roundOneAllByeCheck"),n("championLoseAdd"),n("championAdd"),Object.keys(a.contestInfo.LOSE.slice(-1)[0]).length>1&&(n("roundLoseFromLose",{roundIdx:r,gameLenInLose:1}),n("roundLoseFromLoseWin",{roundIdx:r,gameLenInLose:1}))},roundInfoSizeChange:function(e){for(var t=e.state,n=e.commit,a=t.teamCount/t.roundGroupCount,c=a%2===0?a-1:a,r=Math.ceil(a/2),o=t.teamInfo.map((function(e){return e.id})),i=Pn({team:o,group_count:t.roundGroupCount}),u=0;u<t.roundGroupCount;u++)n("roundRobinOne",{game_count:r,groupIdx:u,team:i[u]}),n("roundRobinOther",{round_count:c,game_count:r,groupIdx:u});n("roundScoreSortBuild")},contestInfoSizeChange:function(e){var t=e.state,n=e.dispatch,a=e.commit;if(t.isContestReset){var c=jn(t.teamCount),r=c.base,o=c.exponent,i=Object.keys(A);switch(a("contestInfoDefault"),t.type){case i[0]:n("singleInfoSizeChange",{base:r,exponent:o});break;case i[1]:n("doubleInfoSizeChange",{base:r,exponent:o});break;case i[2]:n("roundInfoSizeChange",{base:r,exponent:o});break;default:break}}},playerChangeByDrop:function(e,t){var n=e.commit,a=e.state,c=t.dropTarget,r=t.dragTarget,o=a.contestInfo,i=a.type,u=a.teamCount,s=a.roundGroupCount,d=i===A.ROUND.id?i:U.WIN,l=En({contest_info:o,game_type:d,player_info:c}),b=En({contest_info:o,game_type:d,player_info:r});if(d===A.ROUND.id){var O=c.groupIdx,g=r.groupIdx;if(O===g)return}else{var f=a.teamInfo[l].is_seed,p=a.teamInfo[b].is_seed;if(f!==p)return}if(n("playerChange",{dropTarget:c,dragTarget:r,gameType:d}),d===A.ROUND.id){var j=u/s,m=Math.ceil(j/2),h=j%2===0?j-1:j;n("roundRobinOther",{round_count:h,game_count:m,groupIdx:c.groupIdx}),n("roundRobinOther",{round_count:h,game_count:m,groupIdx:r.groupIdx}),n("roundScoreSortBuild")}n("gameScoreChangeByType",{roundIdx:c.roundIdx,idx:c.idx,groupIdx:c.groupIdx,playerKey:c.playerKey,score:F,type:d}),n("gameScoreChangeByType",{roundIdx:r.roundIdx,idx:r.idx,groupIdx:r.groupIdx,playerKey:r.playerKey,score:F,type:d})}},modules:{}});Object(a["c"])(p).use(bc).use(sc).mount("#app")},"596e":function(e,t,n){"use strict";n("08dc")},"5fb2":function(e,t,n){e.exports=n.p+"img/logo-dream_way.5c0ac39b.svg"},6477:function(e,t,n){},6528:function(e,t,n){"use strict";n("c0b8")},7411:function(e,t,n){},"76c7":function(e,t,n){},"789d":function(e,t,n){"use strict";n("9da4")},"78a7":function(e,t,n){},"793b":function(e,t,n){"use strict";n("c4b5")},7970:function(e,t,n){},"7c8f":function(e,t,n){},"7d05":function(e,t,n){},"7f80":function(e,t,n){"use strict";n("28bd")},"82a7":function(e,t,n){"use strict";n("eae6")},"8c7b":function(e,t,n){"use strict";n("f16c")},9534:function(e,t,n){"use strict";n("175e")},"9da4":function(e,t,n){},"9fcc":function(e,t,n){"use strict";n("c190")},c0b8:function(e,t,n){},c190:function(e,t,n){},c43b:function(e,t,n){},c482:function(e,t,n){"use strict";n("d366")},c4b5:function(e,t,n){},c7cb:function(e,t,n){"use strict";n("1370")},cec4:function(e,t,n){"use strict";n("76c7")},d0ac:function(e,t,n){"use strict";n("fa4f")},d35a:function(e,t,n){"use strict";n("c43b")},d366:function(e,t,n){},d712:function(e,t,n){"use strict";n("130a")},d82e:function(e,t,n){e.exports=n.p+"img/logo-bg.4da8ffdb.svg"},d9b4:function(e,t,n){"use strict";n("7411")},e584:function(e,t,n){},eae6:function(e,t,n){},f16c:function(e,t,n){},f40b:function(e,t,n){e.exports=n.p+"img/exclamation_mark.a1d39166.svg"},fa4f:function(e,t,n){},fafd:function(e,t,n){e.exports=n.p+"img/logo-yue_pai.9837d6b1.svg"},ffae:function(e,t,n){e.exports=n.p+"img/print-line.59571666.jpg"}});
//# sourceMappingURL=app.72386344.js.map